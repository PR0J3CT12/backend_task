# Тестовое задание на вакансию backend-разработчик(Django/python) во ВНИИР.
<h1>1. Вступление</h1>
При написании программы я постарался выполнить все поставленные задачи, обработать все потенциальные ошибки и сделать код максимально читабельным и красивым.
<h1>2. Запуск</h1>
  <p>2.1. В файле .env указать переменные DB_USER(имя пользователя PostgreSQL), DB_USER_PASSWORD(пароль пользователя PostgreSQL) и DB_NAME(название базы данных). Если необходимо: поменять DB_HOST и DB_PORT.</p>
  <p>2.2.1. Запустить локальный(или нет, если были указаны другие значения переменных DB_HOST и DB_PORT в .env) сервер PostgreSQL.</p>
  <p>2.2.2. Создать базу данных с названием "trading_platform"(или иным, если было указано другое значение переменной DB_NAME в .env).</p>
  <p>2.3. Установить необходимые библиотеки. Это можно сделать командой <b>pip install -r requirements.txt</b> в корневой папке проекта.</p>
  <p>2.4. В терминале написать команду <b>python manage.py makemigrations trading_platform</b> в корневой папке проекта.</p>
  <p>2.5. В терминале написать команду <b>python manage.py migrate trading_platform</b> в корневой папке проекта.</p>
  <p>2.6. В терминале написать команду <b>python manage.py runserver</b> в корневой папке проекта.</p>
  <p>2.7. Делать запросы, например из Postman :). Начать можно с <a href="http://127.0.0.1:8000/api/init_db">http://127.0.0.1:8000/api/init_db</a>, чтобы заполнить базу данных тестовыми значениями.</p>
<h1>3. API</h1>
  <p>3.1. <b>DELETE /api/drop</b> - удалить все записи trades.</p>
  <p>3.2. <b>POST /api/insert</b> - добавить запись в trades. Необходимое тело запроса: {"type": <i>*sell или buy*</i>, "symbol": <i>*имя символа*</i>, "price": <i>*стоимость*</i>, "user": <i>*id пользователя*</i>}.</p>
  <p>3.3. <b>GET /api/trades<i>?user=id</i></b> - получить все записи trades. Можно <ins>опционально</ins> указать переменную user(id пользователя) и получить записи trades только одного пользователя.</p>
  <p>3.4. <b>GET /api/stock/{symbol}/price<i>?start=date1&end=date2</i></b> - получить максимальную и минимальную цену с определенным параметром symbol. Можно <ins>опционально</ins> указать переменные start и end(даты в формате YYYY-MM-DD) и получить максимальную и минимальную цену за определенный временной промежуток(можно указать только одну из двух переменных).</p>
  <p>3.5. <b>GET /api/init_db</b> - заполнить базу данных тестовыми простыми значениями. Чисто техническая функция, чтобы не заполнять базу данных вручную :)</p>
<h1>4. Особенности</h1>
Далее приведены пункты, которые я намеренно изменил/добавил:

  <p>4.1. Ограничил длину symbol 4 символами.</p>
  <p>4.2. Объединил 3 и 4 функции. Чтобы получить записи определенного пользователя, нужно указать значение опциональной переменной user.</p>
  <p>4.3. В 5 функции указание временного промежутка сделал опциональным.</p>
  <p>4.4. Добавил функцию для заполнения базы данных тестовыми значениями.</p>
<h1>5. Дополнительно</h1>
Постарался накидать документацию к API в swagger.io <a href="https://app.swaggerhub.com/apis-docs/nik.rotay/backend_task/1.0.0#/traders/maxMinPrice">https://app.swaggerhub.com/apis-docs/nik.rotay/backend_task/1.0.0#</a>
<p><i>P.S. /api/init_db намеренно туда не внёс.</i></p>
